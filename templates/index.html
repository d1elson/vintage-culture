<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promised Land</title>
    <style>
        body {
            background-color: black;
            color: white;
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden; /* evita scroll horizontal */
        }
        header {
            background-color: black;
            width: 100%;
            padding: 5px 10px; /* padding reduzido */
            display: flex;
            align-items: center;
            box-sizing: border-box; /* importante para o padding não estourar a largura */
        }
        header img {
            width: 80px; /* diminui a logo */
            height: auto;
        }
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding-top: 20px; /* espaço pequeno depois do header */
        }
        iframe {
            width: 320px;
            height: 180px;
            margin-bottom: 20px;
            border: none;
        }
        button {
            background-color: black;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border: none;
        }
        .logo {
            width: 30px;
            height: auto; /* Mantém a proporção original */
        }
    </style>
</head>
<body>

    <header>
        <img src="{{ url_for('static', filename='assets/images/vntg.jpg') }}" alt="Logo">
    </header>

    <main>
        <!-- Player do YouTube -->
        <div id="player"></div> <!-- Div para carregar o player do YouTube via API -->

        <a href="/go" target="_blank">
            <button type="button">
                <img src="{{ url_for('static', filename='assets/images/spotify-logo.png') }}" alt="Spotify" class="logo">
            </button>
        </a>
    </main>

    <script>
        // Carregar a API do YouTube de forma assíncrona
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // Variável global para o player
        var player;

        // Função que será chamada assim que a API do YouTube for carregada
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '390',
                width: '640',
                videoId: '6Uv61BQBOf0', // ID do vídeo do YouTube
                playerVars: {
                    autoplay: 1,
                    mute: 1,
                    rel: 0,
                    loop: 1,
                    // playlist: 'QHjxoP8oSNw,TN8g6F6lANg,6Uv61BQBOf0' // Lista de vídeos a serem reproduzidos
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        // Função chamada quando o player está pronto
        function onPlayerReady(event) {
            event.target.playVideo();
        }

        // Função chamada quando o estado do player muda
        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.ENDED) {
                // Se o vídeo terminar, reinicia o vídeo
                player.playVideo();
            }
        }
    </script>

</body>
</html>
